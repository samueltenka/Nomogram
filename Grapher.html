<html>
<body>

Nomograms! are cool. They generalize 

<input type="text" id="myText" value="x x +"></input>
<p id="jsErr">no error yet...</p>
<button type="button" id="myBtn" onclick="gosam()">Try it</button>
<canvas height="128" id="myCanvas" style="border: 1px solid #c3c3c3;" width="640"></canvas>

<script>
function complain(mystring) {
  document.getElementById("jsErr").innerHTML += mystring;
}
function parse(polish) {
   /*eats an array e.g. ['x','x','sin','+'],
     and outputs an operator on stacks,
	 as well as a new array e.g. ['x','sin','+']*/
   if(polish.length==0) {
      return function(mystack,myx) {
	     return mystack;
	  }
   }
   var eaten=parse(polish.slice(1,polish.length));
   if(polish[0]=="x") {
      return function(mystack,myx) {
	     return eaten(mystack.concat([myx]), myx);
	  }
   } else if(polish[0]=="sin") {
      return function(mystack,myx) {
	     var top=mystack[mystack.length-1];
	     var popped=mystack.slice(0,mystack.length-1);
	     return eaten(popped.concat([Math.sin(top)]), myx);
	  }
   } else if(polish[0]=="+") {
      return function(mystack,myx) {
	     var top1=mystack[mystack.length-1];
		 var top2=mystack[mystack.length-2];
		 var popped2=mystack.slice(0,mystack.length-2);
	     return eaten(popped2.concat([top1+top2]), myx);
	  }
   } else {complain("error!");}
}
function getfunc() {
   polish=document.getElementById("myText").value.split(" ");
   stackoperator=parse(polish);
   return function(myx) {
      return stackoperator([],myx)[0];
   }
}
function clearcanvas(canvas, context) {
   context.clearRect(0, 0, canvas.width, canvas.height); //for chrome
   var w=canvas.width; canvas.width=1; canvas.width=w;   //for devious, noncompliant browsers
}
function graph(myfunc) {
   var c = document.getElementById("myCanvas");
   context = c.getContext("2d");
   clearcanvas(c,context);
   context.fillStyle ="#FF0000";
   context.moveTo(0,myfunc(0));
   for(i=1; i<640;++i) {
      context.lineTo(i,myfunc(i));
   }
   context.stroke();
}
function gosam() {
   graph(getfunc());
}
</script>

</body>
</html>
